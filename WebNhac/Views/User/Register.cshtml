@model WebNhac.ViewModels.UserViewModel
@{
    Layout = null;
}
<head>
    <link rel="stylesheet" href="https://unpkg.com/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<!-- Registration 11 - Bootstrap Brain Component -->
<section class="py-3 py-md-5 py-xl-8">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="mb-5">
                    <h2 class="display-5 fw-bold text-center">Sign up</h2>
                    <p class="text-center m-0">Already have an account? <a asp-action="Login" asp-controller="User" class="link-primary text-decoration-none">Sign in</a></p>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-12 col-lg-10 col-xl-8">
                <div class="row gy-5 justify-content-center">
                    @if (!string.IsNullOrEmpty(ViewBag.ErrorMessage))
                    {
                        <div class="alert alert-danger" role="alert">
                            @ViewBag.ErrorMessage
                        </div>
                    }
                    <div class="col-12">
                        <form asp-action="Register" asp-controller="User" method="POST">
                            <div class="row gy-5 overflow-hidden">
                                <div class="col-12 col-lg-5">
                                    <div class="col-12">
                                        <div class="form-floating mb-3">
                                            <input class="form-control" asp-for="Register.Username"
                                                   placeholder="Nhập tên đăng nhập" autofocus required>
                                            <span asp-validation-for="Register.Username" class="text-danger"></span>
                                            <label asp-for="Register.Username" class="control-label">Username</label>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-floating mb-3">
                                            <input class="form-control" asp-for="Register.Name"
                                                   placeholder="Nhập họ và tên" required>
                                            <span asp-validation-for="Register.Name" class="text-danger"></span>
                                            <label asp-for="Register.Name" class="control-label">Name</label>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-floating mb-3">
                                            <input class="form-control" asp-for="Register.Email"
                                                   placeholder="Nhập địa chỉ email" required>
                                            <span asp-validation-for="Register.Email" class="text-danger"></span>
                                            <label asp-for="Register.Email" class="control-label">Email</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-lg-5">
                                    <div class="col-12">
                                        <div class="form-floating mb-3">
                                            <input class="form-control" asp-for="Register.Phone"
                                                   placeholder="Nhập số điện thoại" required>
                                            <span asp-validation-for="Register.Phone" class="text-danger"></span>
                                            <label asp-for="Register.Phone" class="control-label">Phone</label>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-floating mb-3">
                                            <input type="password" class="form-control" asp-for="Register.Password" id="password"
                                                   placeholder="Nhập mật khẩu" required
                                                   pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                                                   title="Mật khẩu phải có ít nhất 8 ký tự, bao gồm ít nhất một chữ số, một chữ thường và một chữ hoa."
                                                   onChange="checkPasswordMatch()" />
                                            <span asp-validation-for="Register.Password" class="text-danger"></span>
                                            <label asp-for="Register.Password" class="control-label">Password</label>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-floating mb-3">
                                            <input name="confirm" type="password" class="form-control" id="confirmPassword"
                                                   placeholder="Nhập lại mật khẩu" required
                                                   pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                                                   title="Mật khẩu phải có ít nhất 8 ký tự, bao gồm ít nhất một chữ số, một chữ thường và một chữ hoa."
                                                   onChange="checkPasswordMatch()" />
                                            <label class="control-label">
                                                Nhập lại mật khẩu:
                                            </label>
                                            <div id="passwordMatchMessage"></div>

                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-lg-10">
                                    <div class="d-grid">
                                        <button class="btn btn-primary btn-lg" type="submit">Sign up</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<script>
    function checkPasswordMatch() {
        var password = document.getElementById('password')
        var confirm = document.getElementById('confirmPassword')
        if (password.value === confirm.value) {
            confirmPassword.setCustomValidity('');
        } else {
            confirmPassword.setCustomValidity('Mật khẩu không khớp');
        }
    }
</script>

